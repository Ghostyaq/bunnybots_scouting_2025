---
title: "Chloe"
format: html
---

```{r}
library(ggplot2)
library(tidyverse)
raw <- read.csv("../shinyapp/data_files/fake_data.csv")
data <- raw |>
  group_by(team_number) |>
  summarize(
    ha = round(mean(7*auto_lunites_high), digits = 2),
    la = round(mean(4*auto_lunites_low), digits = 2),
    hps = round(mean(5*pre_high_lunites_scored), digits = 2),
    lps = round(mean(2*pre_low_lunites_scored), digits =2),
    phs = round(mean(5*post_high_lunites_scored), digits = 2),
    pls = round(mean(2*post_low_lunites_scored), digits = 2),
    ep = round(mean(5*ifelse(end_position == "linked", 1, 0)), digits = 2),
    m = round(mean(4*moved), digits = 2),
    sum = ha+la+hps+lps+m+phs+pls+ep
  ) |>
  filter(team_number == 449) |>
pivot_longer(cols=c(ha,la,hps,lps,phs,pls,ep,m),
             names_to = "score_method",
             values_to = "points")


ggplot(data, aes(x = team_number, y = points, fill = score_method))+
geom_bar(position = "stack", stat = "identity")+
scale_fill_manual(values=c("red", "darkred", "lightgreen","darkgreen","lightblue","darkblue","lavender", "purple"))
```
